-- 백업 데이터에서 추출한 실제 사용자 등록 쿼리
-- 백업 파일의 실제 INSERT 문을 기반으로 작성

-- 기존 사용자 삭제 (선택사항)
-- DELETE FROM auth.users WHERE email IN ('admin@admin.com', 'user1@user.com', 'user2@user.com', 'user3@user.com');

-- 1. 관리자 계정 (admin@admin.com)
INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES 
('00000000-0000-0000-0000-000000000000', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', 'authenticated', 'authenticated', 'admin@admin.com', '$2b$10$xqn610aO7WFxBNtvkTnqqOxNMtEppOX7EJLLQ.3vqSc4Y1sT3gJSK', '2025-07-21 05:12:06.324743+00', NULL, '', NULL, '', NULL, '', '', NULL, '2025-07-22 05:51:17.322002+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "0e085a22-2267-4e7a-9c1e-5c7bf4f3034a", "email": "admin@admin.com", "user_type": "admin", "email_verified": true, "phone_verified": false, "approval_status": "approved"}', NULL, '2025-07-21 05:12:06.319195+00', '2025-07-22 08:25:32.614164+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, false, NULL, false);

-- 2. 일반 사용자 계정들
INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES 
('00000000-0000-0000-0000-000000000000', '5f474ca1-75e5-4382-b6af-2d33abe54d31', 'authenticated', 'authenticated', 'user1@user.com', '$2a$10$K0OfJljdqWKYq2R9L.a09ekGyC.bZE9cHthhhVXB68e8U4dJqBBLC', '2025-07-21 05:11:05.718582+00', NULL, '', NULL, '', NULL, '', '', NULL, '2025-07-22 00:45:23.532636+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "5f474ca1-75e5-4382-b6af-2d33abe54d31", "email": "user1@user.com", "user_type": "user", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 05:11:05.709169+00', '2025-07-22 07:41:16.529224+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, false, NULL, false);

INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES 
('00000000-0000-0000-0000-000000000000', '1d3ce10a-a53a-4f92-827d-8af539a4450c', 'authenticated', 'authenticated', 'user2@user.com', '$2a$10$TVvegdMqvjVTq7ldiSM2NuoR3SmP7kV5HYg.VQMN9Cx.xVhu19UIC', '2025-07-21 05:34:23.554001+00', NULL, '', NULL, '', NULL, '', '', NULL, '2025-07-21 05:34:23.558002+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "1d3ce10a-a53a-4f92-827d-8af539a4450c", "email": "user2@user.com", "user_type": "user", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 05:34:23.547574+00', '2025-07-21 05:34:23.560016+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, false, NULL, false);

INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES 
('00000000-0000-0000-0000-000000000000', '3c9f358e-e2f5-439f-b894-a59d5382f27f', 'authenticated', 'authenticated', 'user3@user.com', '$2a$10$J8OtkrVvVcTT/hb/jLAf7Ol9c9dWHE94poxXL4fw5PQke4yl6cRt.', '2025-07-22 08:37:58.850241+00', NULL, '', NULL, '', NULL, '', '', NULL, '2025-07-22 08:37:58.854072+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "3c9f358e-e2f5-439f-b894-a59d5382f27f", "email": "user3@user.com", "user_type": "user", "company_name": "업체3", "email_verified": true, "phone_verified": false}', NULL, '2025-07-22 08:37:58.843426+00', '2025-07-22 08:37:58.856431+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, false, NULL, false);

INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES 
('00000000-0000-0000-0000-000000000000', 'db493775-9caa-4401-9277-d9c046f0e6a3', 'authenticated', 'authenticated', 'tt1@tt.com', '$2a$10$uTe6ygjtqDkJ.9ZxbgakQurImrls6VsSZXCJSyv6ZuAd1FaULdtr2', '2025-07-21 06:21:07.880133+00', NULL, '', NULL, '', NULL, '', '', NULL, '2025-07-22 00:44:50.564194+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "db493775-9caa-4401-9277-d9c046f0e6a3", "email": "tt1@tt.com", "user_type": "user", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 06:21:07.873014+00', '2025-07-22 00:44:50.566805+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, false, NULL, false);

-- 3. 추가 사용자 계정들
INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES 
('00000000-0000-0000-0000-000000000000', 'f19113ee-432b-4f29-9c20-15cfe4001376', 'authenticated', 'authenticated', 'moonmvp@twosun.com', '$2a$10$ikfB2unnnyNPsX579AkDRuUW7vCRUsQO9nkMwDCMzPqPjfDMZOg0S', '2025-07-21 06:23:19.375878+00', NULL, '', NULL, '', '2025-07-21 06:23:42.670899+00', '', '', NULL, '2025-07-21 06:23:52.060768+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "f19113ee-432b-4f29-9c20-15cfe4001376", "email": "moonmvp@twosun.com", "user_type": "user", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 06:23:19.368849+00', '2025-07-21 06:23:52.062529+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, false, NULL, false);

INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES 
('00000000-0000-0000-0000-000000000000', '843fefaf-fc91-45a4-a117-f1e1a19af93d', 'authenticated', 'authenticated', 'sjchoi@twosun.com', '$2a$10$tqqfDgepImzR.tO1NY2VNuSHa4UGAPAOgF.NHrVcfO6ahYc6A.kd6', NULL, NULL, '6cc274f1e6f8cb1ce8d7ee571a14324b48652e5b0f2c6f13754b2cb6', '2025-07-21 05:10:01.82214+00', '', NULL, '', '', NULL, NULL, '{"provider": "email", "providers": ["email"]}', '{"sub": "843fefaf-fc91-45a4-a117-f1e1a19af93d", "email": "sjchoi@twosun.com", "user_type": "user", "email_verified": false, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 05:06:14.287698+00', '2025-07-21 05:10:02.872572+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, false, NULL, false);

INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES 
('00000000-0000-0000-0000-000000000000', '4b5f0681-6c32-4b1d-baaa-ebea2b79ee6c', 'authenticated', 'authenticated', 'd1@123.com', '$2a$10$PcdB7f3K.zkLRkY4wCYBg.PRFPPGNGh/UrOQyy5GyWLKve0NA.oqu', NULL, NULL, 'b289cd478248a57840f0f5e110750b0fdc0e458522464192b968d8ca', '2025-07-21 04:56:11.555914+00', '', NULL, '', '', NULL, NULL, '{"provider": "email", "providers": ["email"]}', '{"sub": "4b5f0681-6c32-4b1d-baaa-ebea2b79ee6c", "email": "d1@123.com", "user_type": "user", "email_verified": false, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 04:56:11.550867+00', '2025-07-21 04:56:12.511862+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, false, NULL, false);

-- 사용자 등록 완료 확인
SELECT 
    id,
    email,
    raw_user_meta_data->>'user_type' as user_type,
    raw_user_meta_data->>'approval_status' as approval_status,
    created_at
FROM auth.users 
ORDER BY created_at DESC; 