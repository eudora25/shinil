-- Shinil PMS Complete Data Restoration (All Tables)
-- 백업 파일에서 추출한 모든 실제 데이터 복원 (users 포함)

-- 기존 데이터 삭제
DELETE FROM public.products;
DELETE FROM public.clients;
DELETE FROM public.notices;
DELETE FROM public.companies;

-- 1. auth.users 테이블 전체 데이터 복원 (백업에서 추출한 실제 데이터)
INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user, deleted_at, is_anonymous) VALUES
('00000000-0000-0000-0000-000000000000', 'f19113ee-432b-4f29-9c20-15cfe4001376', 'authenticated', 'authenticated', 'moonmvp@twosun.com', '$2a$10$ikfB2unnnyNPsX579AkDRuUW7vCRUsQO9nkMwDCMzPqPjfDMZOg0S', '2025-07-21 06:23:19.375878+00', NULL, NULL, '2025-07-21 06:23:42.670899+00', NULL, NULL, NULL, NULL, NULL, '2025-07-21 06:23:52.060768+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "f19113ee-432b-4f29-9c20-15cfe4001376", "email": "moonmvp@twosun.com", "user_type": "user", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 06:23:19.368849+00', '2025-07-21 06:23:52.062529+00', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, false, NULL, false),
('00000000-0000-0000-0000-000000000000', '843fefaf-fc91-45a4-a117-f1e1a19af93d', 'authenticated', 'authenticated', 'sjchoi@twosun.com', '$2a$10$tqqfDgepImzR.tO1NY2VNuSHa4UGAPAOgF.NHrVcfO6ahYc6A.kd6', NULL, NULL, '6cc274f1e6f8cb1ce8d7ee571a14324b48652e5b0f2c6f13754b2cb6', '2025-07-21 05:10:01.82214+00', NULL, NULL, NULL, NULL, NULL, NULL, '{"provider": "email", "providers": ["email"]}', '{"sub": "843fefaf-fc91-45a4-a117-f1e1a19af93d", "email": "sjchoi@twosun.com", "user_type": "user", "email_verified": false, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 05:06:14.287698+00', '2025-07-21 05:10:02.872572+00', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, false, NULL, false),
('00000000-0000-0000-0000-000000000000', '1d3ce10a-a53a-4f92-827d-8af539a4450c', 'authenticated', 'authenticated', 'user2@user.com', '$2a$10$TVvegdMqvjVTq7ldiSM2NuoR3SmP7kV5HYg.VQMN9Cx.xVhu19UIC', '2025-07-21 05:34:23.554001+00', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-07-21 05:34:23.558002+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "1d3ce10a-a53a-4f92-827d-8af539a4450c", "email": "user2@user.com", "user_type": "user", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 05:34:23.547574+00', '2025-07-21 05:34:23.560016+00', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, false, NULL, false),
('00000000-0000-0000-0000-000000000000', '4b5f0681-6c32-4b1d-baaa-ebea2b79ee6c', 'authenticated', 'authenticated', 'd1@123.com', '$2a$10$PcdB7f3K.zkLRkY4wCYBg.PRFPPGNGh/UrOQyy5GyWLKve0NA.oqu', NULL, NULL, 'b289cd478248a57840f0f5e110750b0fdc0e458522464192b968d8ca', '2025-07-21 04:56:11.555914+00', NULL, NULL, NULL, NULL, NULL, NULL, '{"provider": "email", "providers": ["email"]}', '{"sub": "4b5f0681-6c32-4b1d-baaa-ebea2b79ee6c", "email": "d1@123.com", "user_type": "user", "email_verified": false, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 04:56:11.550867+00', '2025-07-21 04:56:12.511862+00', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, false, NULL, false),
('00000000-0000-0000-0000-000000000000', '5f474ca1-75e5-4382-b6af-2d33abe54d31', 'authenticated', 'authenticated', 'user1@user.com', '$2a$10$K0OfJljdqWKYq2R9L.a09ekGyC.bZE9cHthhhVXB68e8U4dJqBBLC', '2025-07-21 05:11:05.718582+00', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-07-22 00:45:23.532636+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "5f474ca1-75e5-4382-b6af-2d33abe54d31", "email": "user1@user.com", "user_type": "user", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 05:11:05.709169+00', '2025-07-22 07:41:16.529224+00', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, false, NULL, false),
('00000000-0000-0000-0000-000000000000', 'db493775-9caa-4401-9277-d9c046f0e6a3', 'authenticated', 'authenticated', 'tt1@tt.com', '$2a$10$uTe6ygjtqDkJ.9ZxbgakQurImrls6VsSZXCJSyv6ZuAd1FaULdtr2', '2025-07-21 06:21:07.880133+00', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-07-22 00:44:50.564194+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "db493775-9caa-4401-9277-d9c046f0e6a3", "email": "tt1@tt.com", "user_type": "user", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 06:21:07.873014+00', '2025-07-22 00:44:50.566805+00', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, false, NULL, false),
('00000000-0000-0000-0000-000000000000', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', 'authenticated', 'authenticated', 'admin@admin.com', '$2a$10$y0dZ6DyamdiYdOA/HWWlAOs/IZ6I.1qBPXF9opl0MSXq.zhsOUonm', '2025-07-21 05:12:06.324743+00', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-07-22 05:51:17.322002+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "0e085a22-2267-4e7a-9c1e-5c7bf4f3034a", "email": "admin@admin.com", "user_type": "admin", "email_verified": true, "phone_verified": false, "approval_status": "pending"}', NULL, '2025-07-21 05:12:06.319195+00', '2025-07-22 08:25:32.614164+00', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, false, NULL, false),
('00000000-0000-0000-0000-000000000000', '3c9f358e-e2f5-439f-b894-a59d5382f27f', 'authenticated', 'authenticated', 'user3@user.com', '$2a$10$J8OtkrVvVcTT/hb/jLAf7Ol9c9dWHE94poxXL4fw5PQke4yl6cRt.', '2025-07-22 08:37:58.850241+00', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-07-22 08:37:58.854072+00', '{"provider": "email", "providers": ["email"]}', '{"sub": "3c9f358e-e2f5-439f-b894-a59d5382f27f", "email": "user3@user.com", "user_type": "user", "company_name": "업체3", "email_verified": true, "phone_verified": false}', NULL, '2025-07-22 08:37:58.843426+00', '2025-07-22 08:37:58.856431+00', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, false, NULL, false);

-- 2. products 테이블 전체 데이터 복원 (백업에서 추출한 실제 데이터)
INSERT INTO public.products (id, product_name, insurance_code, price, commission_rate_a, commission_rate_b, commission_rate_c, standard_code, unit_packaging_desc, unit_quantity, remarks, status, created_at, updated_at, base_month) VALUES
('d4736eda-bb81-4887-a712-8d0c74b92a54', '네오반정 80mg', '653803180', 525, 0.48, 0.48, 0, '8806538031828', '100정/병', 300, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('566e0312-d565-4cf3-ac24-caac744ea366', '실데그라정 100mg', '653806370', 1540, 0.3, 0.3, 0, '8806538063713', '8정/PTP', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('1a1085f9-0ba0-4438-9c94-b66e28f2bd97', '프리린캡슐 75mg', '653804720', 549, 0.48, 0.45, 0, '8806538047218', '30캡슐/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('4204d94f-f4f6-4cfd-b375-338bfbcb9cab', '가모피드정 5mg', '653800020', 103, 0.43, 0.45, 0, '8806538000220', '500정/병', 30, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('1169bc4c-e1c6-4145-9c7b-5a7ab744ceb2', '신일아시클로버정', '653801340', 625, 0.45, 0.52, 0, '8806538013428', '100정/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('baa541b4-fa88-453d-ab32-7004b74a0d38', '트라글립틴듀오정2.5/1000mg', '653806300', 344, 0.25, 0.25, 0, '8806538063058', '30정/PTP', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('40748d73-d90c-4a3e-87cb-8f16c764d70b', '프라빅정 75mg', '653802750', 632, 0.5, 0.6, 0, '8806538027548', '30정/PTP', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('b3a1cded-700d-433c-b029-bc86bcf2802e', '에페릭스정', '653802110', 115, 0.35, 0.38, 0, '8806538021126', '300정/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('43d69d6f-dc00-4b1f-a98b-05d86cd850e6', '트라글립틴듀오정2.5/500mg', '653806280', 338, 0.3, 0.35, 0, '8806538062815', '30정/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('691df8fd-0b38-4485-8a96-2524edb3872c', '신일트리메부틴말레산염정 100mg', '653801090', 58, 0.2, 0.2, 0, '8806538046914', '100정/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('eb808b4c-211f-4236-83af-a468c26ebbab', '로타젯정10/20mg', '653805830', 1074, 0.47, 0.48, 0, '8806538058320', '30정/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('7de10a3a-bd21-46bd-a52d-5a1105f1eb83', '신일모노독시엠캡슐', '653801140', 141, 0.12, 0, 0, '8806538011431', '500캡슐/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('d2252112-f8c6-43e5-bf98-130fc07dccde', '트라글립틴정 5mg', '653806250', 402, 0.4, 0.5, 0, '8806538062501', '(소분)', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('f846a709-2398-4dc3-9e75-8ddc45946b03', '하이엘정 10mg', '653804410', 612, 0.45, 0.6, 0, '8806538044101', '(소분)', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('dbce7f61-0642-4cec-be89-389cdd859a89', '맥스케어액트정', '653805970', 275, 0.1, 0, 0, '8806538059716', '60정/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('545c57ba-598f-40ef-9800-dbf7f7bdecfb', '신일아시클로버정', '653801340', 625, 0.45, 0.52, 0, '8806538013404', '(소분)', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('1f23ad0c-46ce-4edb-8b9e-a8a6098cf0cf', '엑시캄캡슐7.5mg', '653802160', 270, 0.43, 0, 0, '8806538021638', '100캡슐/PTP', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('04018bba-7521-41df-924c-580565e1d645', '레보라정 25mg', '653800330', 119, 0, 0, 0, '8806538003306', '', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('cdf55baa-4286-4b74-b6d7-92ad2b0d6471', '트라글립틴듀오정2.5/500mg', '653806280', 338, 0.3, 0.35, 0, '8806538062853', '30정/PTP', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07'),
('369948a6-d9e9-402d-a96e-4549e75e9396', '트라글립틴듀오정2.5/1000mg', '653806300', 344, 0.25, 0.25, 0, '8806538063041', '200정/병', 0, '', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '2025-07');

-- 3. clients 테이블 전체 데이터 복원 (백업에서 추출한 실제 데이터)
INSERT INTO public.clients (client_code, name, business_registration_number, owner_name, address, remarks, status, created_at, updated_at) VALUES
('CL001', '신일약국', '123-45-67890', '김신일', '서울시 강남구 테헤란로 123', '메인 약국', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00'),
('CL002', '건강약국', '234-56-78901', '이건강', '서울시 서초구 서초대로 456', '지점 약국', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00'),
('CL003', '행복약국', '345-67-89012', '박행복', '서울시 마포구 홍대로 789', '신규 약국', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00'),
('CL004', '우정약국', '121-05-59685', '김우정', '경기도 부천시 소사구 경인로', '지역 약국', 'active', '2025-07-21 06:05:14.157353+00', '2025-07-21 06:05:14.157353+00'),
('CL005', '안약국', '123-37-04208', '이안', '경기도 부천시 소사구 경인로', '안전 약국', 'active', '2025-07-21 06:05:14.157353+00', '2025-07-21 06:05:14.157353+00'),
('CL006', '봄약국', '132-23-42441', '박봄', '서울특별시 종로구 지봉로', '봄날 약국', 'active', '2025-07-21 06:05:14.157353+00', '2025-07-21 06:05:14.157353+00'),
('CL007', '연신내로데오약국', '548-34-01675', '김연신', '서울특별시 은평구 연서로', '연신내 약국', 'active', '2025-07-21 06:05:14.157353+00', '2025-07-21 06:05:14.157353+00');

-- 4. notices 테이블 전체 데이터 복원 (백업에서 추출한 실제 데이터)
INSERT INTO public.notices (id, title, content, is_pinned, view_count, author_id, created_at, updated_at, file_url, links) VALUES
('550e8400-e29b-41d4-a716-446655440000', '시스템 점검 안내', '2025년 7월 30일 새벽 2시부터 4시까지 시스템 점검이 예정되어 있습니다.', true, 15, '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '', ''),
('550e8400-e29b-41d4-a716-446655440001', '신규 제품 등록 안내', '새로운 제품들이 등록되었습니다. 확인해보세요.', false, 8, '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '', ''),
('550e8400-e29b-41d4-a716-446655440002', 'API 사용 가이드', 'API 사용 방법에 대한 가이드 문서를 참고하세요.', false, 25, '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '', ''),
('550e8400-e29b-41d4-a716-446655440003', '신일제약 신규 제품 출시', '신일제약에서 새로운 제품이 출시되었습니다. 자세한 내용은 첨부 파일을 확인하세요.', false, 12, '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '', ''),
('550e8400-e29b-41d4-a716-446655440004', '약국 관리 시스템 업데이트', '약국 관리 시스템이 업데이트되었습니다. 새로운 기능들을 확인해보세요.', false, 18, '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', '', '');

-- 5. companies 테이블 전체 데이터 복원 (백업에서 추출한 실제 데이터)
INSERT INTO public.companies (id, user_id, company_name, business_registration_number, representative_name, business_address, landline_phone, contact_person_name, mobile_phone, mobile_phone_2, email, default_commission_grade, remarks, approval_status, status, created_at, updated_at, user_type, company_group, assigned_pharmacist_contact, receive_email, created_by, approved_at, updated_by) VALUES
('550e8400-e29b-41d4-a716-446655440005', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '신일제약(주)', '110-81-12345', '김신일', '서울시 강남구 테헤란로 123', '02-1234-5678', '김신일', '010-1234-5678', '010-9876-5432', 'admin@shinil.com', 'A', '메인 제약회사', 'approved', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', 'admin', '신일그룹', '김약사', 'Y', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '2025-07-21 06:02:15.780494+00', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a'),
('550e8400-e29b-41d4-a716-446655440006', '5f474ca1-75e5-4382-b6af-2d33abe54d31', '건강제약(주)', '110-81-23456', '이건강', '서울시 서초구 서초대로 456', '02-2345-6789', '이건강', '010-2345-6789', '010-8765-4321', 'health@health.com', 'B', '건강 제약회사', 'approved', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', 'user', '건강그룹', '이약사', 'Y', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '2025-07-21 06:02:15.780494+00', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a'),
('550e8400-e29b-41d4-a716-446655440007', 'db493775-9caa-4401-9277-d9c046f0e6a3', '행복제약(주)', '110-81-34567', '박행복', '서울시 마포구 홍대로 789', '02-3456-7890', '박행복', '010-3456-7890', '010-7654-3210', 'happy@happy.com', 'C', '행복 제약회사', 'approved', 'active', '2025-07-21 06:02:15.780494+00', '2025-07-21 06:02:15.780494+00', 'user', '행복그룹', '박약사', 'Y', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a', '2025-07-21 06:02:15.780494+00', '0e085a22-2267-4e7a-9c1e-5c7bf4f3034a');

-- 완전한 데이터 복원 완료 확인
SELECT 'Users count:' as table_name, COUNT(*) as count FROM auth.users
UNION ALL
SELECT 'Products count:', COUNT(*) FROM public.products
UNION ALL
SELECT 'Clients count:', COUNT(*) FROM public.clients
UNION ALL
SELECT 'Notices count:', COUNT(*) FROM public.notices
UNION ALL
SELECT 'Companies count:', COUNT(*) FROM public.companies; 